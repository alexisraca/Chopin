$("#line-items-list-table").replaceWith("<%= j render partial:'sales/statements/line_item_list' %>");
$("#small-global-modal").modal("hide") // para ventana de thumbnails

var highlight = function() {
  $(".highlighted-line-item").removeClass("highlighted-line-item"); // remover higlight de todos para evitar confusiones
  $("tr[data-line-item-id='<%= @line_item.id %>']").addClass("highlighted-line-item");

  var scrollContainer = $("#line-items-list-body");
  var scrollPosition = scrollContainer.offset().top
  var scrollItem = $("#line-items-list-body .highlighted-line-item")
  
  scrollContainer.animate({
    scrollTop: scrollItem.offset().top - scrollContainer.offset().top + scrollContainer.scrollTop() - 20
  }, '500', 'swing');

  setTimeout(function() {
    $(".highlighted-line-item").removeClass("highlighted-line-item");
  }, 1000);
}

highlight();

<% unless flash[:danger].blank? %>
  $.notify({ message: "<%= flash[:danger] %>" },{ type: 'danger', placement: { align: "center" } });
<% end %>
<% unless flash[:notice].blank?  %>
  $.notify({ message: "<%= flash[:notice] %>" },{ type: 'success', placement: { align: "center" } });
<% end %>

